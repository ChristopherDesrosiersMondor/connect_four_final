<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>{% block title %}{% endblock %}</title>
        {% load static %}
        <link rel="stylesheet" type="text/css" href="{% static 'connect_four/css/base.css' %}"/>
        <script language="JavaScript" type="text/javascript" src="/js/jquery-1.2.6.min.js"></script>
    </head>

    <body>

        <div class="body-content">
            {% block content %}
            {% endblock %}
            <hr/>

            <button class="btn btn-green btn-sm" onclick="request_access(this)" id="{{ data }}"><i class="fa fa-plus"></i> Join Group</button>
            <footer>
                <p>&copy; 2018</p>
            </footer>
        </div>

        {% load static %}
        <script src="{% static 'connect_four/js/base.js' %}"></script>

        <script>
            // https://stackoverflow.com/questions/31878960/calling-django-view-from-ajax
            function request_access($this){
                $.ajax({
                    type: 'GET',
                    url: "test/",
                    data : { 'request_data': request_data},
                    success : function(json) {
                        $("#request-access").hide();
                        console.log("requested access complete");
                    }
                })

                console.log("button clicked");
                var request_data = $this.id;
                alert(request_data);
                console.log("data: " + request_data);
            }
        </script>

    </body>
</html>